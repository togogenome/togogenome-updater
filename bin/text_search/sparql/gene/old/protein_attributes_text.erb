PREFIX up: <http://purl.uniprot.org/core/>
PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>

SELECT DISTINCT ?feature_uri ?existence_label
WHERE {
  GRAPH <http://togogenome.org/graph/temp_text_gene>
  {
    ?feature_uri rdfs:type insdc:Gene .
  }
  GRAPH <http://togogenome.org/graph/tgup>
  {
    ?togo_gene skos:exactMatch ?feature_uri.
    ?togo_gene rdfs:seeAlso ?id_upid .
    ?id_upid rdfs:seeAlso ?protein .
  }
  GRAPH <http://togogenome.org/graph/uniprot> 
  {
    ?protein a up:Protein .

    OPTIONAL
    {
      ?protein up:existence ?existence .
      ?existence rdfs:label ?existence_label .
    }
  }
}OFFSET <%= offset %> LIMIT <%= limit %>
