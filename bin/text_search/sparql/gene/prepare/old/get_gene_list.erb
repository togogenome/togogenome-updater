DEFINE sql:select-option "order"
PREFIX mccv: <http://purl.jp/bio/01/mccv#>
PREFIX meo: <http://purl.jp/bio/11/meo/>
PREFIX mpo: <http://purl.jp/bio/01/mpo#>
PREFIX up: <http://purl.uniprot.org/core/>
SELECT DISTINCT ?feature_uri
WHERE
{
  GRAPH <http://togogenome.org/graph/tgtax>
  {
    ?taxonomy_id rdfs:subClassOf <http://identifiers.org/taxonomy/1>
  }
  GRAPH <http://togogenome.org/graph/taxonomy>
  {
    ?taxonomy_id rdfs:label ?taxonomy_name .
  }
  GRAPH <http://togogenome.org/graph/tgup>
  {
    ?togogenome rdfs:seeAlso ?taxonomy_id .
    ?togogenome skos:exactMatch ?feature_uri .
    ?togogenome rdfs:seeAlso ?uniprot_id .
    ?uniprot_id rdfs:seeAlso ?uniprot_up .
  }
  GRAPH <http://togogenome.org/graph/uniprot>
  {
    ?uniprot_up up:recommendedName/up:fullName ?recommended_name .
  }
} OFFSET <%= offset %> LIMIT <%= limit %>
